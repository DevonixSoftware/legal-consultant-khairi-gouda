// ================== Translation Dictionary ==================
const translations = {
    ar: {
        title: "خيري جودة المستشار القانوني",
        nav: {
            home: "الرئيسية",
            about: "من نحن",
            services: "خدماتنا",
            practiceAreas: "الخبرات",
            whyUs: "لماذا نحن",
            contact: "تواصل معنا"
        },
        slider: [
            {
                title: "خبرة في الاستشارات القانونية تمتد لأكثر من 15 عامًا",
                subtitle1: "خدمات استشارات قانونية موثوقة للأفراد والشركات",
                subtitle2: "استشارات قانونية احترافية داخل المملكة"
            },
            {
                title: "التميز في الاستشارات القانونية",
                subtitle1: "كتابة مذكرات تحريرية للقضايا ، وكتابة مذكرات جوابية على القضايا",
                subtitle2: "خبرة واسعة في جميع المجالات القانونية"
            },
            {
                title: "ثقة وسرية تامة",
                subtitle1: "خدمات استشارات قانونية مع ضمان الخصوصية",
                subtitle2: "فريق متخصص يضمن حقوقك"
            },
            {
                title: "خيري جودة للإستشارات القانونية",
                subtitle1: "الريادة في مجال الاستشارات القانونية",
                subtitle2: "خدمات متكاملة للأفراد والمؤسسات"
            }
        ],
        whatsapp: "تواصل عبر واتساب",
        consultation: "احجز استشارة",
        about: {
            title: "من نحن",
            content: "خيري جودة للإستشارات القانونية، نتمتع بخبرة تزيد عن 15 عامًا في مجال الاستشارات القانونية. نحن متخصصون في تقديم خدمات استشارات متكاملة وشاملة للأفراد والشركات والمؤسسات في المملكة العربية السعودية، مع التركيز على الامتثال الكامل للأنظمة والقوانين السعودية. نضمن تقديم حلول قانونية مبتكرة وفعالة، مع الحرص على السرية التامة وحماية حقوق عملائنا. نحن نغطي مجموعة واسعة من المجالات القانونية، بما في ذلك القانون التجاري، القانون المدني، القانون العقاري، والقانون الدولي، مما يجعلنا الشريك المثالي لأي استشارات قانونية في السوق السعودي."
        },
    services: {
    title: "خدماتنا",
    highlight: `
كتابة مذكرات تحريرية للقضايا ، وكتابة مذكرات جوابية على القضايا ، وكتابة مذكرات اعتراض واستئناف وطلب التماس إعادة نظر وطلبات النقض على الاحكام وذلك للقضايا المنظورة أمام المحاكم العامة والمحاكم التجارية والمحاكم الجزائية ومحاكم الأحوال الشخصية والمحاكم العمالية بما يتفق مع الأنظمة المعمول بها بالمملكة العربية السعودية وخاصة نظام المرافعات الشرعية ونظام الإثبات ونظام المعاملات المدنية ونظام الإجراءات الجزائية ونظام العمل ونظام المحاكم التجارية ونظام الشركات والأنظمة الجزائية الأخرى.

صياغة العقود والاتفاقيات بما يحافظ على مصالح الأطراف، وصياغة عقود تأسيس الشركات، وصياغة الإقرارات والتعهدات.
    `, /*list: [
        "الخدمات الاستشارية القانونية التجارية",
        "الاستشارات القانونية",
        "صياغة العقود",
        "الاستشارات القانونية للشركات",
        "الاستشارات القانونية للعقارات"
    ]*/
},

        practiceAreas: {
            title: "الخبرات",
            content: "خبراتنا تشمل مجالات قانونية متنوعة تغطي جميع جوانب الأعمال والحياة القانونية.",
            areas: [
                { title: "الاستشارات القانونية لخدمات المصرفية والمالية", description: "" },
                { title: "الاستشارات القانونية في حالات الافلاس والإعسار", description: "مساعدة الشركات والأفراد بالاستشارات القانونية في إدارة حالات الإفلاس والإعسار بطريقة قانونية وفعالة." },
                { title: "الاستثمار التجاري", description: "دعم الاستثمارات التجارية من خلال الاستشارات القانونية والعقود الاستثمارية." },
                { title: "هيكلة الأعمال", description: "الاستشارات القانونية في تصميم هياكل الأعمال القانونية المناسبة للشركات والمؤسسات." },
                { title: "أسواق المال", description: "خبرة في قوانين أسواق المال والمعاملات المالية العامة." },
                { title: "المنافسة ومكافحة الاحتكار", description: "استشارات في قوانين المنافسة ومكافحة الممارسات الاحتكارية." },
                { title: "الاندماج والاستحواذ", description: "دعم عمليات الاندماج والاستحواذ باستشارات قانونية شاملة." },
                { title: "العقارات والبناء", description: "استشارات في مجال العقارات والبناء والتطوير العقاري." },
                { title: "الطاقة والموارد", description: "استشارات في قطاع الطاقة والموارد الطبيعية." },
                { title: "التكنولوجيا والاتصالات", description: "استشارات قانونية في مجال التكنولوجيا والاتصالات." },
                { title: "البدء في المملكة", description: "مساعدة الشركات الاجنبية بالاستشارات القانونية للبدء في السوق السعودي." },
                { title: "للرياديين السعوديين", description: "دعم الرياديين السعوديين باستشارات قانونية في تأسيس أعمالهم." },
                { title: "للشركات الأجنبية", description: "استشارات للشركات الأجنبية المملوكة في السعودية." },
                { title: "التوظيف", description: "استشارات في قوانين العمل والتوظيف." },
                { title: "البيئة", description: "استشارات بيئية قانونية." }
            ]
        },
        whyUs: {
            title: "لماذا نحن",
            content: "خبرة تزيد عن 15 عامًا في المجال القانوني، خدمات متكاملة."
        },
        contact: {
            title: "تواصل معنا",
            infoTitle: "معلومات التواصل",
            whatsapp: "واتساب: +966567225460",
            email: "البريد الإلكتروني: khairylaw@gmail.com",
            clientType: "نوع العميل (اختيار إجباري)",
            selectClientType: "اختر نوع العميل",
            individual: "فرد",
            company: "شركة",
            name: "الاسم",
            phone: "رقم الهاتف",
            message: "الرسالة",
            submit: "إرسال"
        },
        footer: "&copy; 2026 خيري جودة للإستشارات القانونية. جميع الحقوق محفوظة."
    },
    en: {
        title: "Khairi Joda Legal Consultant",
        nav: {
            home: "Home",
            about: "About Us",
            services: "Services",
            practiceAreas: "Practice Areas",
            whyUs: "Why Choose Us",
            contact: "Contact"
        },
        slider: [
            { title: "More than 15 years of legal experience", subtitle1: "Reliable legal services for individuals and companies", subtitle2: "Professional legal representation within the Kingdom" },
            { title: "Excellence in Legal Services", subtitle1: "Preparation of legal memorandums for litigation cases and drafting formal responses to legal claims", subtitle2: "Extensive experience in all legal fields" },
            { title: "Complete Trust and Confidentiality", subtitle1: "Legal services with guaranteed privacy", subtitle2: "Specialized team ensuring your rights" },
            { title: "Khairi Joda for Legal Consultations", subtitle1: "Leadership in legal consultations", subtitle2: "Integrated services for individuals and institutions" }
        ],
        whatsapp: "Contact via WhatsApp",
        consultation: "Book a Consultation",
        about: {
            title: "About Us",
            content: "Khairi Joda for Legal Consultations is a Saudi institution with over 15 years of experience, providing comprehensive legal services for individuals and companies in accordance with Saudi regulations."
        },
        services: {
        title: "Services",
         highlight: `
         Drafting legal memorandums for cases, response memorandums, objection and appeal memorandums, requests for reconsideration, and cassation petitions for judgments before public courts, commercial courts, criminal courts, personal status courts, and labor courts, in accordance with the laws and regulations applicable in the Kingdom of Saudi Arabia, including the Law of Sharia Procedures, Evidence Law, Civil Transactions Law, Criminal Procedure Law, Labor Law, Commercial Courts Law, Companies Law, and other penal regulations.

         Drafting contracts and agreements that preserve the interests of all parties, drafting company incorporation contracts, and drafting declarations and undertakings.
    `  , /*list: [
        "Corporate Legal Services",
        "Legal Consultations",
        "Contracts Drafting",
        "Legal Consultations for Companies",
        "Legal Consultations for Real Estate"
    ]*/
},
        practiceAreas: {
            title: "Practice Areas",
            content: "Our expertise includes various legal fields covering all aspects of business and legal life.",
            areas: [
                { title: "Banking & Finance", description: "" },
                { title: "Bankruptcy & Insolvency", description: "Assisting companies and individuals in managing bankruptcy and insolvency cases legally and effectively." },
                { title: "Business Investment", description: "Supporting commercial investments through legal consultations and investment contracts." },
                { title: "Business Structuring", description: "Designing appropriate legal business structures for companies and institutions." },
                { title: "Capital Markets", description: "Expertise in capital market laws and financial transactions." },
                { title: "Competition & Anti-Trust", description: "Consultations on competition laws and anti-monopoly practices." },
                { title: "Mergers & Acquisitions", description: "Supporting mergers and acquisitions operations with comprehensive legal consultations." },
                { title: "Real Estate & Construction", description: "Consultations in real estate, construction, and development." },
                { title: "Energy & Resources", description: "Consultations in energy and natural resources." },
                { title: "Technology & Telecommunications", description: "Legal consultations in technology and telecommunications." },
                { title: "Getting Started in KSA", description: "Assisting foreign companies in starting in the Saudi market." },
                { title: "For Saudi Entrepreneurs", description: "Supporting Saudi entrepreneurs in establishing their businesses." },
                { title: "For Foreign-Owned Corporations", description: "Consultations for foreign-owned companies in Saudi Arabia." },
                { title: "Employment", description: "Consultations on labor and employment laws." },
                { title: "Environmental", description: "Legal environmental consultations." }
            ]
        },
        whyUs: {
            title: "Why Choose Us",
            content: "Over 15 years of experience in the legal field, comprehensive services."
        },
        contact: {
            title: "Contact Us",
            infoTitle: "Contact Information",
            whatsapp: "WhatsApp: +966567225460",
            email: "Email: khairylaw@gmail.com",
            clientType: "Client Type (Required)",
            selectClientType: "Select Client Type",
            individual: "Individual",
            company: "Company",
            name: "Name",
            phone: "Phone Number",
            message: "Message",
            submit: "Submit"
        },
        footer: "&copy; 2026 Khairi Joda for Legal Consultations. All rights reserved."
    }
};

// ================== Current Language ==================
let currentLang = 'ar';

// ================== Slider ==================
const slides = document.querySelectorAll('.slide');
const dots = document.querySelectorAll('.dot');
let currentSlide = 0;
let slideInterval = setInterval(nextSlide, 9000);

function nextSlide() {
    if (!slides.length) return;
    slides[currentSlide].classList.remove('active');
    currentSlide = (currentSlide + 1) % slides.length;
    slides[currentSlide].classList.add('active');
    updateDots();
}

function updateDots() {
    if (!dots.length) return;
    dots.forEach(dot => dot.classList.remove('active'));
    dots[currentSlide].classList.add('active');
}

dots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
        slides[currentSlide].classList.remove('active');
        currentSlide = index;
        slides[currentSlide].classList.add('active');
        updateDots();
        clearInterval(slideInterval);
        slideInterval = setInterval(nextSlide, 5000);
    });
});

// ================== Hamburger Menu ==================
const hamburger = document.getElementById('hamburger');
const navMenu = document.getElementById('nav-menu');

hamburger.addEventListener('click', () => {
    navMenu.classList.toggle('active');
    hamburger.classList.toggle('active');
});

// Close menu when clicking a link
document.querySelectorAll('nav ul li a').forEach(link => {
    link.addEventListener('click', () => {
        navMenu.classList.remove('active');
        hamburger.classList.remove('active');
    });
});

// ================== Form Translation ==================
function translateForm(lang) {
    const form = document.getElementById('contact-form');
    if (!form) return;

    const labels = form.querySelectorAll('label');
    const inputs = form.querySelectorAll('input, select, textarea');
    const button = form.querySelector('button[type="submit"]');

    labels[0].textContent = translations[lang].contact.clientType;
    labels[1].textContent = translations[lang].contact.name;
    labels[2].textContent = translations[lang].contact.phone;
    labels[3].textContent = translations[lang].contact.message;

    const options = inputs[0].querySelectorAll('option');
    options[0].textContent = translations[lang].contact.selectClientType;
    options[1].textContent = translations[lang].contact.individual;
    options[2].textContent = translations[lang].contact.company;

    button.textContent = translations[lang].contact.submit;
}

// ================== Translate Page ==================
function translatePage(lang) {
    currentLang = lang;
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';

    // Title
    document.title = translations[lang].title;

    // Header
    const headerH1 = document.querySelector('header h1');
    if (headerH1) headerH1.textContent = translations[lang].title;

    // Nav
    const navLinks = document.querySelectorAll('nav ul li a');
    if (navLinks.length === 6) {
        navLinks[0].textContent = translations[lang].nav.home;
        navLinks[1].textContent = translations[lang].nav.about;
        navLinks[2].textContent = translations[lang].nav.services;
        navLinks[3].textContent = translations[lang].nav.practiceAreas;
        navLinks[4].textContent = translations[lang].nav.whyUs;
        navLinks[5].textContent = translations[lang].nav.contact;
    }

    // Slider
    const slideContainers = document.querySelectorAll('.slide .container');
    translations[lang].slider.forEach((slide, index) => {
        const container = slideContainers[index];
        if (container) {
            const h2 = container.querySelector('h2');
            const ps = container.querySelectorAll('p');
            const btns = container.querySelectorAll('.cta-buttons a');
            if (h2) h2.textContent = slide.title;
            if (ps[0]) ps[0].textContent = slide.subtitle1;
            if (ps[1]) ps[1].textContent = slide.subtitle2;
            if (btns[0]) btns[0].textContent = translations[lang].whatsapp;
            if (btns[1]) btns[1].textContent = translations[lang].consultation;
        }
    });

    // About
    const aboutH2 = document.querySelector('#about h2');
    const aboutP = document.querySelector('#about p');
    if (aboutH2) aboutH2.textContent = translations[lang].about.title;
    if (aboutP) aboutP.textContent = translations[lang].about.content;
    // ================== Services Translation ==================
    // Update services
translateServices(lang);

function translateServices(lang) {
    const servicesTitle = document.getElementById('services-title');
    const servicesHighlight = document.getElementById('services-highlight');

    if (servicesTitle) {
        servicesTitle.textContent = translations[lang].services.title;
    }

    if (servicesHighlight) {
        servicesHighlight.innerHTML =
            translations[lang].services.highlight
                .trim()
                // .replace(/\n\s*\n/g, "<br><br>");
    }
}




    // Practice Areas
    const practiceH2 = document.querySelector('#practice-areas h2');
    const practiceP = document.querySelector('#practice-areas p');
    if (practiceH2) practiceH2.textContent = translations[lang].practiceAreas.title;
    if (practiceP) practiceP.textContent = translations[lang].practiceAreas.content;
    const practiceBoxes = document.querySelectorAll('.practice-box');
    translations[lang].practiceAreas.areas.forEach((area, i) => {
        if (practiceBoxes[i]) {
            const h3 = practiceBoxes[i].querySelector('h3');
            const p = practiceBoxes[i].querySelector('p');
            if (h3) h3.textContent = area.title;
            if (p) p.textContent = area.description;
        }
    });

    // Why Us
    const whyH2 = document.querySelector('#why-us h2');
    const whyP = document.querySelector('#why-us p');
    if (whyH2) whyH2.textContent = translations[lang].whyUs.title;
    if (whyP) whyP.textContent = translations[lang].whyUs.content;

    // Contact
    const contactH2 = document.querySelector('#contact h2');
    if (contactH2) contactH2.textContent = translations[lang].contact.title;
    const contactInfoH3 = document.querySelector('.contact-info h3');
    if (contactInfoH3) contactInfoH3.textContent = translations[lang].contact.infoTitle;
    const contactPs = document.querySelectorAll('.contact-info p');
    if (contactPs[0]) contactPs[0].textContent = translations[lang].contact.whatsapp;
    if (contactPs[1]) contactPs[1].textContent = translations[lang].contact.email;

    // Form
    translateForm(lang);

    // Footer
    const footerP = document.querySelector('footer p');
    if (footerP) footerP.innerHTML = translations[lang].footer;

    // Language button active
    document.getElementById('ar-btn').classList.toggle('active', lang === 'ar');
    document.getElementById('en-btn').classList.toggle('active', lang === 'en');
}

// ================== Language Buttons ==================
document.getElementById('ar-btn').addEventListener('click', () => translatePage('ar'));
document.getElementById('en-btn').addEventListener('click', () => translatePage('en'));

// ================== Form Submission ==================
const contactForm = document.getElementById('contact-form');

if (contactForm) {
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const name = contactForm.querySelector('[name="name"]').value.trim();
        const phone = contactForm.querySelector('[name="phone"]').value.trim();
        const message = contactForm.querySelector('[name="message"]').value.trim();
        const clientType = contactForm.querySelector('select').value;

        if (!name || !phone || !message) {
            alert(currentLang === 'ar'
                ? 'من فضلك املأ جميع الحقول'
                : 'Please fill in all fields'
            );
            return;
        }

        const text =
            `Client Type: ${clientType}%0A` +
            `Name: ${name}%0A` +
            `Phone: ${phone}%0A` +
            `Message: ${message}`;

        const whatsappNumber = '966567225460';
        const whatsappURL = `https://wa.me/${whatsappNumber}?text=${text}`;

        window.open(whatsappURL, '_blank');
        contactForm.reset();
    });
}


// ================== Practice Slider ==================
const practiceArrow = document.getElementById('practice-arrow');
const practiceSlider = document.querySelector('.practice-slider');

if (practiceArrow && practiceSlider) {
    practiceArrow.addEventListener('click', () => {
        const scrollAmount = 320; // عرض كل صندوق + الفجوة
        practiceSlider.scrollBy({
            left: scrollAmount,
            behavior: 'smooth'
        });
    });
}
